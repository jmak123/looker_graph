{"code":"!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=1)}([,function(t,e,r){\"use strict\";r.r(e),function(){console.log(\"HI\");var t=d3.select(\"svg\").style(\"background-color\",\"white\"),e=+t.attr(\"width\"),r=+t.attr(\"height\");d3.csv(\"sp_event.csv\",function(n,o){var i=[];Object.keys(o).forEach(function(t){t.source!=t.target&&i.push(t)});var a=i.map(function(t){return t.source}).concat(i.map(function(t){return t.target})),s=new Set(a),c=Array.from(s);c=c.map(function(t){return{id:t}});var u=i,l=d3.forceSimulation().force(\"link\",d3.forceLink().id(function(t){return t.id})).force(\"charge\",d3.forceManyBody().strength(-500)).force(\"center\",d3.forceCenter(e/2,r/2)).force(\"collide\",d3.forceCollide().strength(1).radius(50)),d=t.append(\"defs\").selectAll(\"marker\").data(u).enter().append(\"svg:marker\").attr(\"id\",function(t){return\"marker_\"+t.source+\"_\"+t.target}).attr(\"viewBox\",\"-0 -5 10 10\").attr(\"refX\",13).attr(\"refY\",0).attr(\"orient\",\"auto\").attr(\"markerWidth\",4).attr(\"markerHeight\",4).attr(\"xoverflow\",\"visible\").append(\"svg:path\").attr(\"id\",function(t){return\"arrow_\"+t.source+\"_\"+t.target}).attr(\"d\",\"M 0,-5 L 10 ,0 L 0,5\").style(\"fill\",\"black\").style(\"stroke\",\"none\").style(\"opacity\",function(t){return\"TRUE\"==t.is_primary?.9:.05}),f=t.append(\"g\").call(d3.zoom().on(\"zoom\",function(){f.attr(\"transform\",d3.event.transform)})),y=f.append(\"g\").attr(\"class\",\"links\").selectAll(\"line\").data(u).enter().append(\"path\").attr(\"class\",\"link\").style(\"stroke\",\"black\").style(\"stroke-width\",2).style(\"stroke-opacity\",function(t){return\"TRUE\"==t.is_primary?.9:.05}).style(\"fill\",\"none\").attr(\"marker-end\",function(t){return\"url(#marker_\"+t.source+\"_\"+t.target+\")\"}).on(\"mouseover\",function(t){d3.select(this).style(\"stroke\",\"green\").style(\"stroke-opacity\",1).style(\"stroke-width\",10),d3.select(\"#arrow_\"+t.source.id+\"_\"+t.target.id).style(\"fill\",\"green\").style(\"opacity\",1).style(\"stroke-width\",10)}).on(\"mouseout\",function(t){y.style(\"stroke\",\"black\").style(\"stroke-width\",2).style(\"stroke-opacity\",function(t){return\"TRUE\"==t.is_primary?.9:.05}),d3.select(\"#arrow_\"+t.source.id+\"_\"+t.target.id).style(\"fill\",\"black\").style(\"opacity\",.05)}),p=f.append(\"g\").selectAll(\"node\").data(c).enter().append(\"g\").attr(\"class\",\"node\").call(d3.drag().on(\"start\",function(t){d3.event.active||l.alphaTarget(.3).restart();t.fx=t.x,t.fy=t.y}).on(\"drag\",function(t){t.fx=d3.event.x,t.fy=d3.event.y}).on(\"end\",function(t){d3.event.active||l.alphaTarget(0);t.fx=void 0,t.fy=void 0}));p.append(\"circle\").attr(\"id\",function(t){return\"node_\"+t.id}).attr(\"r\",5).style(\"fill\",\"red\").on(\"mouseover\",function(t){d3.select(\"#text_\"+t.id).attr(\"font-size\",25),d3.select(\"#node_\"+t.id).attr(\"r\",20),y.style(\"stroke\",function(e){return e.source.id==t.id&\"TRUE\"==e.is_primary?\"orange\":e.source.id==t.id&\"FALSE\"==e.is_primary?\"blue\":\"black\"}).style(\"stroke-width\",function(e){return e.source.id==t.id&\"TRUE\"==e.is_primary?5:2}).style(\"stroke-opacity\",function(e){return e.source.id==t.id&\"TRUE\"==e.is_primary?.9:e.source.id==t.id&\"FALSE\"==e.is_primary?.7:.05}),d.style(\"fill\",function(e){return e.source.id==t.id&\"TRUE\"==e.is_primary?\"orange\":e.source.id==t.id&\"FALSE\"==e.is_primary?\"blue\":\"black\"}).style(\"opacity\",function(e){return e.source.id==t.id&\"TRUE\"==e.is_primary?.9:e.source.id==t.id&\"FALSE\"==e.is_primary?.7:.05})}).on(\"mouseout\",function(t){d3.select(\"#text_\"+t.id).attr(\"font-size\",12),d3.select(\"#node_\"+t.id).attr(\"r\",5),y.style(\"stroke\",\"black\").style(\"stroke-width\",2),d.style(\"fill\",\"black\").style(\"opacity\",.05)}),p.append(\"title\").text(function(t){return t.id}),p.append(\"text\").attr(\"id\",function(t){return\"text_\"+t.id}).attr(\"dy\",-7).text(function(t){return t.id}).attr(\"font-size\",12),l.nodes(c).on(\"tick\",function(){p.attr(\"transform\",function(t){return\"translate(\"+t.x+\", \"+t.y+\")\"}),y.attr(\"d\",function(t){var e=t.target.x-t.source.x,r=t.target.y-t.source.y,n=Math.sqrt(e*e+r*r);return\"M\"+t.source.x+\",\"+t.source.y+\"A\"+n+\",\"+n+\" 0 0,1 \"+t.target.x+\",\"+t.target.y})}),l.force(\"link\").links(u)})}()}]);","extractedComments":[]}